# Use the Visual Studio 2019 Build Tools image
FROM my-msvc-image

# Set the working directory in the Docker image
WORKDIR /usr/src/myapp

# Copy the current directory contents into the container at /usr/src/myapp
COPY . /usr/src/myapp

# Configure the project build with CMake
RUN cmd /C "C:\BuildTools\Common7\Tools\VsDevCmd.bat && cmake -S . -B ./build "

# Build the project
RUN cmd /C "C:\BuildTools\Common7\Tools\VsDevCmd.bat && cmake --build ./build --config Release"


